define("quizaccess_activatedelayedattempt/timer",["jquery"],(function(t,e){var n,i,s;return{get_string:function(t,e,i=null){return n[t]},set_strings:function(t){n=t},init:function(e,n,r,a,u,o,h,d){this.set_strings(o),t(".continuebutton").prepend(t("</br>"),t("<form/>",{method:"post",action:e}).append(t("<input>",{type:"hidden",name:"cmid",value:n}),t("<input>",{type:"hidden",name:"sesskey",value:r}),t("<input>",{type:"submit",class:"btn btn-secondary",id:"startAttemptButton",value:a}),t("<p>",{id:"timer"})),t("</br>")),t("#startAttemptButton").hide(),i=(new Date).getTime()+u,s=setInterval(this.update_time.bind(this),1e3)},update_time:function(){var e=(new Date).getTime(),n=i-e,r=this.get_nice_duration(n/1e3,!1,!1,2);document.getElementById("timer").innerHTML=this.get_string("quizwillstartinabout")+r,n<0&&(t("#timer").hide(),t("#startAttemptButton").show(),clearInterval(s))},get_nice_duration:function(t,e=!0,n=!1,i=2){var s,r=[],a=!1;e&&(t-=2592e3*(s=Math.floor(t/2592e3)));var u=Math.floor(t/86400);t-=3600*u*24;var o=Math.floor(t/3600);t-=3600*o;var h=Math.floor(t/60),d=Math.round(t-60*h);return e&&s>0&&(r.push(s+this.get_string("month"+(s>1?"s":""))),o=0,h=0,d=0,n&&(a=!0)),u>0&&!1===a&&(r.push(" "+u+" "+this.get_string("day"+(u>1?"s":""))),i<2&&(h=0,d=0),n&&(a=!0)),o>0&&!1===a&&(r.push(" "+o+" "+this.get_string("hour"+(o>1?"s":""))),i<2&&(d=!1),n&&(a=!0)),h>0&&!1===a&&(r.push(" "+h+" "+this.get_string("minute"+(h>1?"s":""))),n&&(a=!0)),d>0&&!1===a&&r.push(" "+d+" s."),0===r.length&&r.push("-"),r.join("")}}}));